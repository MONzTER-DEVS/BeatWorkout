#:set content_padding_x 50
#:set content_padding_y 25
#:set content_height 150


<MainMenu>:
    NavigationLayout:
        ScreenManager:
            Screen:
                BoxLayout:
                    orientation: 'vertical'

                    NavBar:

                    MDCard:
                        border_radius: dp(50)
                        radius: [dp(50)]
                        size_hint: .9, 1
                        pos_hint: {"center_x": .5}
                        orientation: "vertical"
                        spacing: dp(10)

                        MDCard:
                            border_radius: dp(25)
                            radius: [dp(25)]
                            orientation: "horizontal"
                            padding: "8dp"
                            size_hint: 1, None
                            height: dp(content_height)
                            pos_hint: {"center_x": .5, "center_y": .5}
                            hover_behavior: True
                            md_bg_color: app.theme_cls.primary_color

                            Image:
                                source: "assets/indoor_cycle.png"
                                theme_text_color: "Secondary"
                                size_hint: None, 1
                                width: dp(content_height)
                                height: self.texture_size[1]

                            MDLabel:
                                theme_text_color: "Secondary"
                                text: "Test label 1"
                        
                        MDCard:
                            border_radius: dp(25)
                            radius: [dp(25)]
                            orientation: "horizontal"
                            padding: "8dp"
                            size_hint: 1, None
                            height: dp(content_height)
                            pos_hint: {"center_x": .5, "center_y": .5}
                            hover_behavior: True
                            md_bg_color: app.theme_cls.primary_color

                            Image:
                                source: "assets/indoor_cycle.png"
                                theme_text_color: "Secondary"
                                size_hint: None, 1
                                width: dp(content_height)
                                height: self.texture_size[1]

                            MDLabel:
                                theme_text_color: "Secondary"
                                text: "Test label 2"

                        Widget:

        MDNavigationDrawer:
            id: nav_drawer

            ContentNavigationDrawer:
                id: content_drawer
                padding: dp(10)
                spacing : dp(10)
                md_bg_color: app.theme_cls.bg_dark
                orientation: "vertical"
                AnchorLayout:
                    anchor_x: "left"
                    size_hint_y: None
                    height: avatar.height

                    Image:
                        id: avatar
                        size_hint: None, None
                        size: "100dp", "100dp"
                        #source: "kivymd.png"

                MDLabel:
                    text: "Name"
                    font_style: "H4"
                    theme_text_color: "Custom"
                    text_color: app.theme_cls.primary_color
                    size_hint_y: None
                    height: self.texture_size[1]

                MDLabel:
                    text: "user_name@gmail.com"
                    font_style: "Caption"
                    theme_text_color: "Custom"
                    text_color: app.theme_cls.primary_color
                    size_hint_y: None
                    height: self.texture_size[1]

                #MDFlatButton:
                #    text : "TestButton"
                #    pos_hint : {"center_x":.5, "center_y":.9}
                #    size_hint: 1, None
                #    height: dp(100)
                #    md_bg_color: app.theme_cls.primary_color
                #MDFlatButton:
                #    text : "TestButton"
                #    pos_hint : {"center_x":.5, "center_y":.9}
                #    size_hint: 1, None
                #    height: dp(100)
                #    md_bg_color: app.theme_cls.primary_color

                ScrollView:
                    DrawerList:
                        id: md_list

# Menu item in the DrawerList list.
<ItemDrawer>:
    theme_text_color: "Custom"
    text_color: app.theme_cls.text_color
    on_release: self.parent.set_color_item(self)

    IconLeftWidget:
        id: icon
        icon: root.icon
        theme_text_color: "Custom"
        text_color: root.text_color

<Content@MDCard>:

    border_radius: dp(50)
    radius: [dp(50)]
    size_hint: .9, .7
    pos_hint: {"center_x": .5}
    orientation: "vertical"


    MDLabel:
        text: "Title"
        theme_text_color: "Secondary"
        size_hint_y: None
        height: self.texture_size[1]

    MDSeparator:
        height: "1dp"

    MDLabel:
        text: "Body"


<NavBar@BoxLayout>:

    padding: dp(20), dp(10)
    size_hint: 1, None
    height: "150dp"

    MDIconButton:
        icon: "menu"
        user_font_size: "48sp"
        theme_text_color: "Custom"
        text_color: app.theme_cls.primary_color
        elevation_normal: 12
        size_hint: 0.2, 1
        on_press: root.parent.parent.parent.parent.parent.open_drawer()

    Label:
        text_size: self.size
        font_size: "50dp"
        font_name: "fonts/Roboto_Condensed/RobotoCondensed-Regular.ttf"
        text: "BEAT\nWORKOUT"
        halign: 'right'
        valign: 'middle'

        color: app.theme_cls.primary_color
